<IfModule mod_rewrite.c>
    RewriteEngine On

    # If the user is not logged in, redirect them to the login page when accessing /admin/home.php
    RewriteCond %{REQUEST_URI} ^/admin/home\.php$ [NC]
    RewriteCond %{HTTP_COOKIE} !admin_logged_in=true [NC]  # Replace with your session/cookie name
    RewriteRule ^.*$ /admin/login.php [L,R=301]  # Redirect to the login page

    # Deny direct access to /admin/home.php (403 Forbidden) if no other conditions match
    RewriteCond %{REQUEST_URI} ^/admin/home\.php$ [NC]
    RewriteRule ^.*$ - [F,L]  # Block with 403 Forbidden error
</IfModule>
